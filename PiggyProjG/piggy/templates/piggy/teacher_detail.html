{% extends "piggy/base_generic_new.html" %}

{% block title %}
    <title> {{ teacher.name }} - Professor's details</title>
{% endblock title %}

{% block content %}
<div class="container-fluid">
    {% csrf_token %}
    <div class="row">
        <div class="col-sm-2">
            <div class="container-fluid p-5">

            </div>
        </div>
        <div class="col-sm-8">
            <div class="container-fluid p-5 bg-white">
                <h1 class="h1"> {{ teacher.name }} </h1>
                <br>
                <div class="d-grid gap-2">
                    <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapseProfile" role="button" aria-expanded="true" aria-controls="collapseProfile">
                        <h2 class="h2 text-center">Profile</h2>
                    </a>
                </div>
                <div class="collapse show" id="collapseProfile">
                    <div class="card card-body">
                        <table class="table table-borderless align-middle table-hover">
                            <thead></thead> 
                            <tr>
                                <td class="h5">Name</td>
                                <td>{{ teacher.name }}</td>
                            </tr>
                            <tr>
                                <td class="h5">Username</td>
                                <td>{{ teacher.username }}</td>
                            </tr>
                            <tr>
                                <td class="h5">Password</td>
                                <td>{{ teacher.password }}</td>
                            </tr>
                            <tr>
                                <td class="h5">Email</td>
                                <td>{{ teacher.email }}</td>
                            </tr>
                            <tr>
                                <td class="h5">Resume</td>
                                <td>{{ teacher.resume}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <br>
                <div class="d-grid gap-2">
                    <a class="btn btn-dark" data-bs-toggle="collapse" href="#collapsePlanProject" role="button" aria-expanded="true" aria-controls="collapsePlanProject">
                        <h2 class="h2 text-center"> Directed Plans and Projects</h2>
                    </a>
                </div>
                <div class="collapse show" id="collapsePlanProject">
                    <div class="card card-body">
                        {% if all_plans %}
                            {% for plan in all_plans %}
                                <h3><a class="list-group-item list-group-item-action active" aria-current="true" href="{% url 'piggy:plan_detail' plan.id %}">{{ plan.name }}<a></h2>
                                <div class="list-group">
                                    {% for project in plan.project_set.all %}
                                        <a class="list-group-item list-group-item-action fw-bold" href="{% url 'piggy:project_detail' project.id %}">{{ project.name }}</a>
                                    {% endfor %}
                                </div>
                            {% endfor %}
                        {% else %}
                            <p>No projects are available.</p>
                        {% endif %}
                        <br>
                    </div>
                </div>
            </div>
          </div>
    </div>
</div>
{% endblock content %}